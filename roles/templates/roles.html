{% extends 'index.html' %}
{% load static %}
{% block main-content %}

<div class="main-panel">
  <div class="content-wrapper">
    <div class="row">
      <div class="col-lg-12 grid-margin stretch-card">
        <div class="card">
          <div class="card-body">
            <h4 class="card-title">Roles</h4>
            <p class="card-description">
            <div class="mt-3">
              <a type="submit" class="btn btn-block btn-primary btn-sm font-weight-medium auth-form-btn"
                href="{% url 'roles_form' %}">Add</a>
            </div>
            </p>
            <div class="table-responsive">
              <table class="table table-striped table-hover">
                <thead>
                  <tr>
                    <th>Role</th>
                    <th>Team</th>
                  </tr>
                </thead>
                <tbody>
                  {% if records %}
                  {% for record in records %}
                  <tr  data-href="{% url 'viewrole' record.id %}">
                    <td>
                      {{ record.role }}
                    </td>
                    <td>
                      {{ record.team }}
                    </td>
                  </tr>
                  {% endfor %}
                  {% endif %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- content-wrapper ends -->


</div>
<script>
  document.addEventListener("DOMContentLoaded", () => {
      const tableRows = document.querySelectorAll("tr[data-href]");
      tableRows.forEach((row) => {
          row.style.cursor = "pointer";
          row.addEventListener("click", () => {
              const url = row.getAttribute("data-href");
              window.location.href = url;
          });
      });
  });
</script>

{% endblock %}